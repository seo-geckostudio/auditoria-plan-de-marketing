{
  "tipo": "seo",
  "nombre": "Auditor√≠a SEO Completa",
  "version": "2.0",
  "descripcion": "Auditor√≠a t√©cnica y de contenido SEO con an√°lisis autom√°tico e IA",
  "icono": "üîç",

  "fuentes_datos": {
    "screaming_frog": {
      "requerido": true,
      "formato": "json",
      "descripcion": "Export completo de Screaming Frog (Internal, Images, etc)",
      "ubicacion": "data/screamingfrog/auditoria_{id}.json"
    },
    "google_analytics": {
      "requerido": false,
      "tipo": "api",
      "descripcion": "Datos de tr√°fico y comportamiento",
      "credenciales_requeridas": true
    },
    "ahrefs": {
      "requerido": false,
      "formato": "csv_multiple",
      "descripcion": "Keywords, backlinks, an√°lisis competencia",
      "ubicacion": "data/ahrefs/auditoria_{id}/"
    },
    "google_search_console": {
      "requerido": false,
      "tipo": "api",
      "descripcion": "Queries, impresiones, CTR"
    }
  },

  "modulos": [
    {
      "id": "arquitectura",
      "nombre": "Arquitectura Web",
      "descripcion": "An√°lisis de estructura, navegaci√≥n y crawl efficiency",
      "icono": "üèóÔ∏è",
      "orden": 1,
      "habilitado": true,

      "campos": [
        {
          "id": "urls_huerfanas",
          "nombre": "URLs Hu√©rfanas",
          "descripcion": "P√°ginas indexables sin enlaces internos",
          "tipo_dato": "array",
          "tipo_procesamiento": "automatico",
          "visibilidad": "visible",
          "editable": false,

          "fuente": {
            "origen": "screaming_frog.internal",
            "procesador": "ArquitecturaProcessor::filtrarURLsHuerfanas"
          },

          "reglas_filtrado": {
            "inlinks": 0,
            "status_code": 200,
            "indexability": "Indexable"
          },

          "enriquecimiento": [
            {
              "tipo": "automatico",
              "fuente": "google_analytics.sessions",
              "campo_origen": "page_path",
              "campo_destino": "trafico_mensual",
              "agregacion": "sum",
              "periodo": "ultimos_30_dias"
            },
            {
              "tipo": "ia",
              "procesador_ia": {
                "modelo": "claude-3-5-sonnet-20241022",
                "prompt": "Analiza la URL {url} del sitio {sitio_url}. Contexto: {context}.\n\nSugiere:\n1. Desde qu√© p√°gina deber√≠a enlazarse (m√°ximo 2 opciones)\n2. Acci√≥n espec√≠fica recomendada\n\nRespuesta en JSON: {\"desde_enlazar\": \"URL\", \"accion\": \"texto\"}",
                "temperatura": 0.3,
                "max_tokens": 500,
                "inputs": ["address", "crawl_depth"],
                "outputs": {
                  "desde_enlazar": "string",
                  "accion_recomendada": "string"
                }
              },
              "cache": true,
              "cache_duracion": 604800
            }
          ],

          "priorizacion": {
            "tipo": "automatico",
            "reglas": [
              {
                "condicion": "trafico_mensual > 500",
                "prioridad": "Cr√≠tica"
              },
              {
                "condicion": "trafico_mensual > 200",
                "prioridad": "Muy Alta"
              },
              {
                "condicion": "trafico_mensual > 50",
                "prioridad": "Alta"
              },
              {
                "condicion": "trafico_mensual > 10",
                "prioridad": "Media"
              }
            ],
            "default": "Baja"
          },

          "presentacion": {
            "formato": "tabla",
            "columnas": [
              {"id": "address", "nombre": "URL", "width": "40%"},
              {"id": "crawl_depth", "nombre": "Profundidad", "width": "10%"},
              {"id": "trafico_mensual", "nombre": "Tr√°fico/mes", "width": "10%"},
              {"id": "prioridad", "nombre": "Prioridad", "width": "10%"},
              {"id": "desde_enlazar", "nombre": "Enlazar desde", "width": "15%"},
              {"id": "accion_recomendada", "nombre": "Acci√≥n", "width": "15%"}
            ],
            "ordenar_por": "prioridad DESC, trafico_mensual DESC",
            "limite": 500
          },

          "entregable": {
            "generar_csv": true,
            "nombre_archivo": "urls_huerfanas_corregir.csv",
            "categoria": "arquitectura",
            "incluir_en_resumen": true,
            "descripcion_corta": "URLs sin enlaces internos a corregir"
          }
        },

        {
          "id": "analisis_estructura_ia",
          "nombre": "An√°lisis de Estructura (IA)",
          "descripcion": "An√°lisis profundo de arquitectura con recomendaciones IA",
          "tipo_dato": "object",
          "tipo_procesamiento": "ia_asistido",
          "visibilidad": "visible",
          "editable": true,

          "procesador_ia": {
            "modelo": "claude-3-5-sonnet-20241022",
            "prompt_template": "prompts/analizar_estructura_web.txt",
            "temperatura": 0.5,
            "max_tokens": 8000,
            "inputs": [
              "screaming_frog.internal",
              "google_analytics.page_hierarchy",
              "arquitectura.urls_huerfanas"
            ],
            "outputs": {
              "evaluacion_general": "string",
              "problemas_principales": "array",
              "estructura_propuesta": "object",
              "beneficios_esperados": "array",
              "plan_implementacion": "array"
            }
          },

          "revision_manual": {
            "requerida": true,
            "campos_editables": [
              "estructura_propuesta.categorias",
              "estructura_propuesta.urls",
              "plan_implementacion"
            ],
            "guardado_automatico": true,
            "versionado": true
          },

          "cache": true,
          "cache_duracion": 2592000
        }
      ],

      "seccion_educativa": {
        "habilitada": true,
        "concepto": "¬øQu√© es la Arquitectura Web?",
        "analogia": "La arquitectura web es como dise√±ar un edificio: necesitas que los visitantes (y Google) puedan navegar f√°cilmente de una habitaci√≥n a otra sin perderse.",
        "beneficios": [
          "Mejor crawl efficiency (Google indexa m√°s p√°ginas)",
          "Mayor visibilidad en buscadores",
          "Mejor experiencia de usuario",
          "Reducci√≥n de contenido hu√©rfano"
        ],
        "riesgos": [
          "P√°ginas hu√©rfanas invisibles para Google",
          "Desperdicio de crawl budget",
          "Contenido valioso no descubierto"
        ]
      }
    }
  ],

  "reglas_globales": {
    "prioridad": {
      "critica": {
        "descripcion": "Requiere acci√≥n inmediata",
        "color": "#dc2626",
        "trafico_min": 500,
        "impacto": "muy_alto"
      },
      "muy_alta": {
        "descripcion": "Acci√≥n en pr√≥ximos 7 d√≠as",
        "color": "#f59e0b",
        "trafico_min": 200,
        "impacto": "alto"
      },
      "alta": {
        "descripcion": "Acci√≥n en pr√≥ximas 2 semanas",
        "color": "#3b82f6",
        "trafico_min": 50,
        "impacto": "medio"
      },
      "media": {
        "descripcion": "Acci√≥n en pr√≥ximo mes",
        "color": "#8b5cf6",
        "trafico_min": 10,
        "impacto": "medio_bajo"
      },
      "baja": {
        "descripcion": "Backlog",
        "color": "#6b7280",
        "trafico_min": 0,
        "impacto": "bajo"
      }
    },

    "costos_ia": {
      "modelo": "claude-3-5-sonnet-20241022",
      "costo_por_1k_tokens_input": 0.003,
      "costo_por_1k_tokens_output": 0.015,
      "presupuesto_maximo_auditoria": 50,
      "alertar_si_supera": 40
    }
  },

  "metadata": {
    "autor": "Sistema de Auditor√≠a",
    "fecha_creacion": "2025-10-17",
    "ultima_modificacion": "2025-10-17",
    "changelog": [
      "v2.0: A√±adido procesamiento IA para an√°lisis avanzado",
      "v1.0: Versi√≥n inicial con procesamiento autom√°tico"
    ]
  }
}
